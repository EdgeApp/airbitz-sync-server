{
    "map": "function (doc) {\n  const me = '__SERVER__'\n  if (typeof doc.servers !== 'undefined')\n    return\n  if (typeof doc[me] === 'undefined') {\n    emit(null, doc)\n    return\n  }\n  const servers = __SERVER_ARRAY__\n  for (var n = 0; n < servers.length; n++) {\n    const serv1 = servers[ n ]\n    if (me === serv1) continue\n    if (typeof doc[ serv1 ] === 'undefined') continue\n\n    var doEmit = false\n    if (doc[ me ] !== doc[ serv1 ]) {\n      doEmit = true\n    }\n\n    if (typeof doc[ me + ':time'] !== 'undefined') {\n      if (typeof doc[ serv1 + ':time'] !== 'undefined') {\n        if (doc[ me + ':time'] > doc[ serv1 + ':time' ]) {\n          doEmit = false\n        }\n      } else {\n        doEmit = false\n      }\n    }\n\n    if (doEmit === true)\n      emit(null, doc)\n  }\n}\n"
}
